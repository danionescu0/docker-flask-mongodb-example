
### Check open issues 

https://github.com/danionescu0/docker-flask-mongodb-example/issues consider taking on an issue, or adding a new one.

### Working on a issue 

* To start developing locally using anaconda:
````bash
cd docker--mongodb-example
conda create --name dockerflaskmongodbexample python=3.10.0
conda activate dockerflaskmongodbexample
````

* Install propper requirements.txt coresponding to the module you will be working for, example:
````bash
pip install -r python/fastapidemo/requirements.txt
````

* Add common package in pythonpath (searching for a solution to that)
````
export PYTHONPATH=/your_project_path/python/common/
````

* If you created a new service or modified some connexions between services, you may need to **generate a new diagram**.
I have created a diagram using this tool: https://diagrams.mingrammer.com


To generate a new one install diagrams and graphviz packages inside your conda env:
````
pip install -r python/requirements-dev.txt
````
Now you're ready to modify "diagrams_generator.py" inside python folder then run the generator
````
cd python
python diagrams_generator.py
````
It will replace the ./resources/autogenerated.png file

* Run unit tests with pytest and fix the tests if they are failing, if it's new feature create a new test insite /tests folder

- first run the app locally
- install testing requirements
````
docker-compose up
pip install -r tests/requirements.txt
````
- run a specific test
````
pytest -q tests/test_users.py  -s
````
- or run all tests
````
pytest -s
````
* Work on branch, modify what you need
* Run black () to format the code properly (if not the build will fail on push)
````
cd docker--mongodb-example
pip install -r python/requirements-dev.txt
black --exclude stresstest-locusts/ .
````

* Push and create a pull request

